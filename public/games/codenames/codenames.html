<!doctype html>
<html>
<head>
	<title>Codenames App</title>
	<style>
		html{
			text-align: center;
		}

		table{
			margin: 30px auto;
			padding: 2px;
		}

		td{
			padding: 20px;
			border-radius: 7px;
		}
	</style>
</head>
<body>
	<div id="table"></div>
	<button onclick="newGame()">New Game</button>

	<script>
		var newGame = function(){
			var codes = [
				[0,0,0,0,0],
				[0,0,0,0,0],
				[0,0,0,0,0],
				[0,0,0,0,0],
				[0,0,0,0,0]
			];
			var roles = [1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,0];

			var color = Math.round(Math.random());
			var tables = "<table style='border: 2px solid " + (color<1 ? "#ff2222" : "#2222ff") + "'>";
			for(var i=0;i<5;i++){
				tables += "<tr>";
				for(var j=0;j<5;j++){
					var randomInt = Math.floor(Math.random()*roles.length);
					tables+="<td style='background-color: "+ colorFromCode(color < 1, roles[randomInt]) +"'></td>";
					roles.splice(randomInt,1);
				}
				tables += "</tr>";
			}
			tables += "</table>";

			document.getElementById("table").innerHTML = tables;
		}

		var colorFromCode = function(isRedFirst, code){
			if(code == 1){
				return (isRedFirst ? "#ff2222" : "#2222ff");
			}
			else if(code == 2){
				return (isRedFirst ? "#2222ff" : "#ff2222");
			}
			else if(code == 3){
				return "#a8a8a8";
			}
			else{
				return "#000000";
			}
		}
		newGame();
	</script>
</body>
</html>
